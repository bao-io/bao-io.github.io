---
title: 搭建React Native环境记录
date: 2023-10-09
duration: 10min
---

早在一年前就已经学会 React 的我，那时候也尝试过用 React 写 App，但是那时候由于环境的原因一直导致项目启动不起来，后来就放弃了。

直到今天，在公司开发 App 的功能，Uniapp 的热更新真的是憨啊，保存一下，仿佛把整个项目的资源都加载了一遍，巨慢无比。于是我又心血来潮的翻开收藏夹找到`React Native`的官网，重新把环境搭建起来。

今天主要记录这里面我所遇到的坑。

1. ruby
   Mac 系统默认自带的 ruby 版本是 `2.6.10`，这个版本是不符合 react-native 的依赖版本的。至少要 2.7 以上，但也不要直接安装最新版本`3.2.2`。反正我遇到了很多匪夷所思的问题。
   ```shell
   brew install ruby@2.7
   ```
2. rvm
   这个是一个管理 ruby 版本的工具，类似于 node 里面的`nvm`, 也要下载，bin 目录下有很多东西都需要用到。
3. `ios-deploy`包
   在运行脚本 pnpm ios 启动项目的时候，如果发现你电脑连接手机的时候，他会要你先下载这个，第一次我还正常的启动项目，但当我第二次启动的时候，他就直接报错找不到对应的虚拟机设备 id，直到我用 brew 卸载这个包才得以正常运行，所以我不推荐安装这个包。
4. Xcode 运行
   需要注意的是我们用 Xcode 打开项目的时候，不要直接打开以`xcodeproj`后缀的文件，这样就会导致构建编译的时候找不到 Pod 文件夹里面的依赖而导致失败，所以我们要打开的是以`xcworkspace`后缀的文件。
